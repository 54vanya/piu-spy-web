(window["webpackJsonppiu-spy-web-2"]=window["webpackJsonppiu-spy-web-2"]||[]).push([[0],{217:function(e,t,a){e.exports=a(435)},222:function(e,t){Number.isNaN=Number.isNaN||function(e){return e!==e},"undefined"===typeof Math.sign&&(Math.sign=function(e){return e>0?1:e<0?-1:e}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),a=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<a;){var c=t[r];if(e.call(n,c,r,t))return r;r++}return-1},configurable:!0,writable:!0})},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},258:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var n=a(5),r=(a(218),a(221),a(222),a(2)),c=a.n(r),l=a(22),s=a.n(l),i=a(27),o=a(47),u=a(33),m=a.n(u),p=a(4),d=a.n(p),f=(a(235),a(11)),g=a(12),h=a(13),b=a(14),v=a(15),E=a(48),y=(a(236),{leaderboard:{path:"/leaderboard"},ranking:{path:"/ranking",faq:{path:"/ranking/faq"}},profile:{path:"/profiles/:name",getPath:function(e){return"/profiles/".concat(e.name)}}}),O=a(20),N=a(51),k=a(8),j=a.n(k),w=a(68),S=a.n(w),P=a(121),D=a.n(P),C=a(19);a(90),a(237),a(238);function x(){return c.a.createElement("div",{className:"loader"},c.a.createElement("svg",{width:"40",height:"12",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"#eee"},c.a.createElement("circle",{cx:"15",cy:"15",r:"15"},c.a.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),c.a.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),c.a.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},c.a.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),c.a.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),c.a.createElement("circle",{cx:"105",cy:"15",r:"15"},c.a.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),c.a.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}))))}var R=a(3),A=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={value:(d.a.isNil(e.value)?e.defaultValue:e.value)||""},d.a.bindAll(["handleChange","handleBlur"],Object(R.a)(a)),a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.setState({value:this.props.value})}},{key:"handleChange",value:function(e){var t=this,a=e.target.value;this.setState({value:a},function(){return t.props.onChange(a)})}},{key:"handleBlur",value:function(e){var t=this.props.type,a=this.state.value;if("number"===t){var n=Number(a);n>=Number(e.target.min)&&n<=Number(e.target.max)?this.props.onBlur(n,e):(this.setState({value:this.props.value}),this.props.onBlur(this.props.value,e))}}},{key:"render",value:function(){var e=this.props.className;return c.a.createElement("input",Object.assign({},d.a.omit(["defaultValue","onChange"],this.props),{className:j()(e,"text-input"),value:this.state.value,onBlur:this.handleBlur,onInput:this.handleChange}))}}]),t}(c.a.Component);A.defaultProps={value:null,type:"text",onChange:d.a.noop,onBlur:d.a.noop};a(239);var F=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).onChange=function(t){e.props.onChange(t.target.checked)},e.id=d.a.uniqueId(),e}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"toggle-checkbox"},c.a.createElement("input",{type:"checkbox",className:"toggle-checkbox-cb",id:this.id,onChange:this.onChange,checked:this.props.checked}),c.a.createElement("label",{htmlFor:this.id,className:"toggle"},c.a.createElement("span",null)),c.a.createElement("label",{htmlFor:this.id,className:"text-label"},this.props.children))}}]),t}(c.a.Component),T=(a(240),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this))).state={open:e.defaultOpen||!1},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.title,r=t.className,l=this.state.open;return c.a.createElement("div",{className:j()("collapsible-bar",r,{open:l})},c.a.createElement("div",{className:"header",onClick:function(){return e.setState(function(e){return{open:!e.open}})}},c.a.createElement("div",{className:"collapse-button"},c.a.createElement(C.e,null)),c.a.createElement("div",{className:"title"},n)),a&&c.a.createElement("div",{className:"collapsible-children"},a))}}]),t}(r.PureComponent)),M=a(118),I=a(193),L=a(180),B=(a(243),{preventOverflow:{enabled:!0,padding:10,boundariesElement:"viewport"}}),_={right:"left",left:"right",top:"bottom",bottom:"top"},q=function(e){return e&&_[e.split("-")[0]]},K=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).state={isVisible:!1},e.containerItemRef=c.a.createRef(),e.renderPopper=e.renderPopper.bind(Object(R.a)(e)),e.toggleOverlayVisibility=e.toggleOverlayVisibility.bind(Object(R.a)(e)),e}return Object(v.a)(t,e),Object(g.a)(t,[{key:"hideOverlay",value:function(){this.setState({isVisible:!1})}},{key:"toggleOverlayVisibility",value:function(){this.setState({isVisible:!this.state.isVisible})}},{key:"handleClickOutside",value:function(e){e&&e.target.closest(".inner-popper-overlay")||this.hideOverlay()}},{key:"renderPopper",value:function(e){var t=e.ref,a=e.style,n=e.placement,r=e.arrowProps,l=(e.scheduleUpdate,e.outOfBoundaries),s=this.props,i=s.children,o=s.hideWhenOutOfBounds;return c.a.createElement("div",{ref:t,style:a,"data-placement":n,className:j()("inner-popper-overlay","arrow-".concat(q(n)),this.props.overlayClassName,{"out-of-bounds":l&&o})},c.a.createElement("div",{className:"arrow-hider"},c.a.createElement("div",{className:"arrow",ref:r.ref,style:r.style})),c.a.createElement("div",{className:"inner-popper-content"},i))}},{key:"render",value:function(){var e=this.props,t=e.placement,a=e.overlayItem,n=this.state.isVisible;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"overlay-item",ref:this.containerItemRef,onClick:this.toggleOverlayVisibility},a),n&&s.a.createPortal(c.a.createElement(I.a,{container:document.body,modifiers:B,placement:t,referenceElement:this.containerItemRef.current},this.renderPopper),document.body))}}]),t}(c.a.PureComponent);K.defaultTypes={placement:"bottom"};var V=Object(L.a)(K),G=(a(244),function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.onToggle,n=e.text;return c.a.createElement("div",{className:j()("toggle-button",{active:t}),onClick:function(){return a(!t)}},n)}}]),t}(c.a.PureComponent)),U={DEFAULT:"default",PROTAGONIST:"protagonist",RANK_ASC:"rankAsc",RANK_DESC:"rankDesc"},Q=[1,28];function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function z(e){var t=e.filterValue,a=e.onChange,n=d.a.getOr(Q,"range",t),r=d.a.getOr(null,"type",t),l="\u0444\u0438\u043b\u044c\u0442\u0440 \u0447\u0430\u0440\u0442\u043e\u0432";if(t){var s=r||"";l="\u0447\u0430\u0440\u0442\u044b: "+(l=n[0]===n[1]?"".concat(s).concat(n[0]):"".concat(s).concat(n[0]," - ").concat(s).concat(n[1]))}return c.a.createElement("div",null,c.a.createElement(V,{overlayClassName:"chart-range-overlay-outer",overlayItem:c.a.createElement("button",{className:"filter-charts-button btn btn-sm btn-dark"},l)},c.a.createElement("div",{className:"chart-range-overlay"},c.a.createElement("div",{className:"buttons"},c.a.createElement(G,{text:"S",active:!r||"S"===r,onToggle:function(e){a({range:n,type:e?null:"D"})}}),c.a.createElement(G,{text:"D",active:!r||"D"===r,onToggle:function(e){a({range:n,type:e?null:"S"})}})),c.a.createElement(M.Range,{values:n,step:1,min:Q[0],max:Q[1],onChange:function(e){return a({type:r,range:e})},renderTrack:function(e){var t=e.props,a=e.children;return c.a.createElement("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:W({},t.style,{height:"10px",display:"flex",width:"100%"})},c.a.createElement("div",{ref:t.ref,style:{height:"6px",width:"100%",borderRadius:"3px",background:Object(M.getTrackBackground)({values:n,colors:["#ccc","#337ab7","#ccc"],min:Q[0],max:Q[1]}),alignSelf:"center"}},a))},renderThumb:function(e){var t=e.props,a=e.isDragged;return c.a.createElement("div",Object.assign({},t,{style:W({},t.style,{height:"12px",width:"12px",borderRadius:"6px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 3px #AAA"})}),c.a.createElement("div",{style:{height:"6px",width:"6px",borderRadius:"3px",backgroundColor:a?"#337ab7":"#CCC"}}))}}),c.a.createElement("div",{className:"inputs"},c.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(){return a({type:r,range:[Math.max(n[0]-1,Q[0]),n[1]]})}},c.a.createElement(C.c,null)),c.a.createElement(A,{type:"number",className:"form-control",min:Q[0],max:Math.min(Q[1],n[1]),value:n[0],onBlur:function(e){a({type:r,range:[e,n[1]]})}}),c.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(){var e=Math.min(n[0]+1,Q[1]);a({type:r,range:[e,n[1]<e?e:n[1]]})}},c.a.createElement(C.d,null)),c.a.createElement("div",{className:"_flex-fill"}),c.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(){var e=Math.max(n[1]-1,Q[0]);a({type:r,range:[n[0]>e?e:n[0],e]})}},c.a.createElement(C.c,null)),c.a.createElement(A,{type:"number",className:"form-control",min:Math.max(Q[0],n[0]),max:Q[1],value:n[1],onBlur:function(e){return a({type:r,range:[n[0],e]})}}),c.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(){return a({type:r,range:[n[0],Math.min(n[1]+1,Q[1])]})}},c.a.createElement(C.d,null))))))}localStorage&&(window.debugOn=function(){localStorage.setItem("debug",1)},window.debugOff=function(){localStorage.removeItem("debug")});var J=localStorage&&localStorage.getItem("debug"),X=a(28),Y=a.n(X),Z=a(46),$=function(){var e=Object(Z.a)(Y.a.mark(function e(t){var a,n,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,e.prev=1,e.next=4,fetch(a);case 4:if(!((n=e.sent).status>=200&&n.status<300)){e.next=12;break}return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:throw Error("HTTP Status "+n.status);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t){return e.apply(this,arguments)}}(),ee=a(63);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ne="RANKINGS/SET_RANKINGS",re="RANKINGS/RANKING_CHANGE_SET";var ce=function(e){var t={count:0,battleCount:0,countAcc:0,rating:1e3,grades:{F:0,D:0,C:0,B:0,A:0,S:0,SS:0,SSS:0},totalScore:{S:0,D:0},sumAccuracy:0,history:[],lastPlace:null},a={},n=[];return e.forEach(function(e){var r=[];d.a.orderBy(["score"],["desc"],e.results).forEach(function(n){n.nickname.includes("???")||(r.push(n),a[n.nickname]||(a[n.nickname]=d.a.cloneDeep(t)),a[n.nickname].count++,n.accuracy&&(a[n.nickname].countAcc++,a[n.nickname].sumAccuracy+=n.accuracy),a[n.nickname].totalScore[e.chartType]+=n.score,a[n.nickname].grades[n.grade.replace("+","")]++),function(e){return d.a.isInteger(e.perfect)&&d.a.isInteger(e.great)&&d.a.isInteger(e.good)&&d.a.isInteger(e.bad)&&d.a.isInteger(e.miss)&&d.a.isInteger(e.score)}(n)&&(e.maxScore=function(e,t){var a=e.perfect+e.great+e.good+e.bad+e.miss,n=1e3*a+1e3*(a-50);return t.chartLevel>10&&(n*=t.chartLevel/10),"D"===t.chartType&&(n*=1.2),n+=3e5}(n,e))}),r.forEach(function(t,a){(r.length>1?r.slice(a+1):[]).forEach(function(a){t.isRank===a.isRank&&t.nickname!==a.nickname&&n.push([t,a,e])})})}),d.a.flow([d.a.sortBy(function(e){var t=Object(ee.a)(e,2),a=t[0],n=t[1];return Math.max(a.dateObject.getTime(),n.dateObject.getTime())}),d.a.forEach(function(e){var n=Object(ee.a)(e,3),r=n[0],c=n[1],l=n[2];a[c.nickname]||(a[c.nickname]=d.a.cloneDeep(t));var s=r.isRank?1.2:1,i=null;l.maxScore&&(i=l.maxScore*s,Math.max(i,r.score,c.score)===i||r.isRank||r.isExactDate&&c.isExactDate||(i*=1.2),Math.max(i,r.score,c.score)!==i&&(i=Math.max.apply(Math,Object(O.a)(d.a.map("score",l.results))))),r.startingRating=a[r.nickname].rating,c.startingRating=a[c.nickname].rating,a[r.nickname].battleCount++,a[c.nickname].battleCount++;var o,u,m=a[r.nickname].rating,p=a[c.nickname].rating,f=Math.pow(10,m/400),g=Math.pow(10,p/400),h=f/(f+g),b=g/(f+g),v=r.score,E=c.score;v===E?o=u=.5:i&&0!==v&&0!==E?(o=5*((E=i/E-1)/((v=i/v-1)+E)-.5)+.5,u=5*(v/(v+E)-.5)+.5):u=1-(o=v>E?1:E<v?0:.5),o=Math.max(0,Math.min(1,o)),u=Math.max(0,Math.min(1,u));var y=Math.abs(h-b)+.6;o-h>0===h<.5&&Math.abs(h-b)>.1&&(y*=1-Math.abs(h-b)/2.6);var N=Math.max(0,Math.min(1,(m-500)/1e3)),k=Math.max(0,Math.min(1,(p-500)/1e3)),j=50+40*N,w=50+40*k,S=Math.max(1,Math.min(j,Math.pow(l.chartLevel/25,5*(N-.5)+2.5)*j))/y*(o-h),P=Math.max(1,Math.min(w,Math.pow(l.chartLevel/25,5*(k-.5)+2.5)*w))/y*(u-b);S=S<0&&"SSS"===r.grade?0:S,P=P<0&&"SSS"===c.grade?0:P,r.ratingDiff=(r.ratingDiff||0)+S,c.ratingDiff=(c.ratingDiff||0)+P,r.ratingDiffLast=S,c.ratingDiffLast=P,a[r.nickname].rating=m+S,a[c.nickname].rating=p+P,a[r.nickname].rating=Math.max(100,a[r.nickname].rating),a[c.nickname].rating=Math.max(100,a[c.nickname].rating);var D=d.a.flow(d.a.keys,d.a.map(function(e){return{name:e,rating:a[e].rating}}),d.a.orderBy(["rating"],["desc"]),d.a.map("name"))(a),C=D.indexOf(r.nickname)+1,x=D.indexOf(c.nickname)+1,R=r.dateObject>c.dateObject?r.dateObject:c.dateObject;(a[r.nickname].lastPlace!==C&&a[r.nickname].battleCount>20||21===a[r.nickname].battleCount&&!a[r.nickname].history.length)&&a[r.nickname].history.push({place:C,date:R.getTime()}),(a[c.nickname].lastPlace!==x&&a[c.nickname].battleCount>20||21===a[c.nickname].battleCount&&!a[c.nickname].history.length)&&a[c.nickname].history.push({place:x,date:R.getTime()}),a[r.nickname].lastPlace=C,a[c.nickname].lastPlace=x})])(n),d.a.flow(d.a.keys,d.a.map(function(e){return ae({},d.a.omit(["countAcc","sumAccuracy"],a[e]),{name:e,accuracy:a[e].countAcc>0?Math.round(a[e].sumAccuracy/a[e].countAcc*100)/100:null,rating:Math.round(a[e].rating),ratingRaw:a[e].rating})}),d.a.remove(function(e){return e.battleCount<20}),d.a.orderBy(["ratingRaw"],["desc"]))(a)},le=function(e){return{type:ne,ranking:e}},se=d.a.map("name"),ie=d.a.flow(d.a.map(function(e){return[e.name,e.rating]}),d.a.fromPairs),oe=function(e){return function(){var t=Object(Z.a)(Y.a.mark(function t(a,n){var r,c,l,s,i,o,u,p,f,g,h,b,v;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(le(e)),t.prev=1,t.next=4,Promise.all([m.a.getItem("lastChangedRanking"),m.a.getItem("lastChangedRankingPoints"),m.a.getItem("lastFetchedRanking")]);case 4:r=t.sent,c=Object(ee.a)(r,3),l=c[0],s=c[1],i=c[2],o=se(e),u=se(i),p=se(l),f=ie(e),g=ie(i),h=ie(s),b=h,d.a.isEqual(f,g)||(m.a.setItem("lastChangedRankingPoints",i),b=g),v=p,d.a.isEqual(o,u)||(m.a.setItem("lastChangedRanking",i),v=u),a({type:re,listNow:o,listPrev:v,rankingsPointsMap:b}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(1),console.warn("Cannot get ranking from local storage",t.t0);case 25:case"end":return t.stop()}},t,null,[[1,22]])}));return function(e,a){return t.apply(this,arguments)}}()};function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var me="PROFILES/SET_PROFILES";var pe=function(e,t){var a={},n=function(e,n){a[n.nickname]||function(e){var n=d.a.flow(d.a.find({name:e}),d.a.get("history"),function(e){return e&&[].concat(Object(O.a)(e),[{place:d.a.get("place",d.a.last(e)),date:Date.now()}])})(t);a[e]={resultsByGrade:{},resultsByLevel:{},rankingHistory:n}}(n.nickname);var r=a[n.nickname];r.resultsByGrade[n.grade]=[].concat(Object(O.a)(r.resultsByGrade[n.grade]||[]),[{result:n,chart:e}]),r.resultsByLevel[e.chartLevel]=[].concat(Object(O.a)(r.resultsByLevel[e.chartLevel]||[]),[{result:n,chart:e}])};return e.forEach(function(e){e.results.forEach(function(t){n(e,t)})}),a},de=function(e){return function(){var t=Object(Z.a)(Y.a.mark(function t(a,n){return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:me,data:e});case 1:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var he="TOP/LOADING",be="TOP/SUCCESS",ve="TOP/ERROR",Ee="TOP/SET_FILTER",ye="TOP/RESET_FILTER",Oe={showRank:!0},Ne={isLoading:!1,data:[],filter:Oe},ke=d.a.flow(d.a.get("top"),d.a.values,d.a.map(function(e){return{song:e.track,chartLabel:e.chart_label,chartLevel:e.chart_label.slice(1),chartType:e.chart_label.slice(0,1),mix:e.mix,results:e.results.map(function(t,a){var n=Math.sqrt(t.perfects)*d.a.toInteger(e.chart_label.slice(1))/2,r=n?Math.floor((100*n+60*t.greats+30*t.goods+-20*t.misses)/(n+t.greats+t.goods+t.bads+t.misses)*100)/100:null;return{nickname:t.nickname,date:t.gained,dateObject:new Date(t.gained),grade:t.grade,isExactDate:!!t.exact_gain_date,score:t.score,perfect:t.perfects,great:t.greats,good:t.goods,bad:t.bads,miss:t.misses,combo:t.max_combo,mods:t.mods_list,isRank:!!t.rank_mode,accuracy:r<0?0:r}})}}),d.a.map(function(e){return ge({},e,{latestScoreDate:e.results.reduce(function(e,t){return t.date>e?t.date:e},e.results[0].date),results:e.results.map(function(t){return ge({},t,{hasRankScore:d.a.some({nickname:t.nickname,isRank:!0},e.results)})})})}),d.a.orderBy(["latestScoreDate","song","chartLevel"],["desc","asc","desc"]));var je=function(){return function(){var e=Object(Z.a)(Y.a.mark(function e(t){var a,n,r,c;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:he}),e.prev=1,e.next=4,$({url:"".concat("https://vps720616.ovh.net:5000","/top")});case 4:return a=e.sent,n=ke(a),t({type:be,data:n}),r=ce(n),t(oe(r)),c=pe(n,r),t(de(c)),e.abrupt("return",n);case 14:e.prev=14,e.t0=e.catch(1),t({type:ve,error:e.t0});case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}()},we=function(e){return{type:Ee,filter:e}},Se=a(441),Pe=a(181),De=a.n(Pe),Ce=a(440),xe=a(60),Re=a.n(xe);Se.a.addLocale(De.a);var Ae=new Se.a("ru-RU"),Fe={flavour:"long",gradation:Ce.a,units:["day","week","month"]},Te=function(e){return c.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement("div",null,"\u0442\u043e\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0432\u0437\u044f\u0442\u0438\u044f \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430"),c.a.createElement("div",null,"\u0441\u043a\u043e\u0440 \u0431\u044b\u043b \u0437\u0430\u043f\u0438\u0441\u0430\u043d \u0441 my best \u0438\u043b\u0438 machine best"),c.a.createElement("div",null,"\u0434\u0430\u0442\u0430 \u0437\u0430\u043f\u0438\u0441\u0438: ",e.toLocaleDateString()))},Me=new Date,Ie=["#FF6633","#66991A","#6666FF","#E6B333","#CC80CC","#E64D66","#4DB3FF","#99E6E6","#99FF99","#FFFF99","#FFB399","#809900","#00B3E6","#3366E6","#999966","#B34D4D","#80B300","#E6B3B3","#6680B3","#66664D","#FF99E6","#CCFF1A","#FF1A66","#33FFCC","#4D8000","#B33300","#991AFF","#E666FF","#1AB399","#E666B3","#33991A","#4D8066","#CC9999","#B3B31A","#00E680","#E6331A","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#4DB380","#FF4D4D"],Le=a(120),Be=a(182);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ke=Object(Le.a)(function(e){return e.top.data},d.a.flow(d.a.flatMap(d.a.get("results")),d.a.map("nickname"),d.a.uniq,d.a.sortBy(d.a.toLower),d.a.map(function(e){return{label:e,value:e}}))),Ve=Object(Le.a)(function(e){return e.top.data},function(e){return e.top.filter},function(e,t){var a,r=d.a.map("value",t.players),c=d.a.map("value",t.playersOr),l=d.a.map("value",t.playersNot),s=d.a.get("value",t.sortingType),i=d.a.get("value",t.protagonist),o=d.a.map("value",t.excludeAntagonists),u=[d.a.orderBy(["latestScoreDate"],["desc"])],m=[d.a.filter(function(e){return d.a.map("nickname",e.results).includes(i)}),d.a.map(function(e){var t=d.a.findIndex({nickname:i},e.results),a=e.results[t].score,n=d.a.flow([d.a.take(t),d.a.uniqBy("nickname"),d.a.remove(function(e){return o.includes(e.nickname)||e.score===a})])(e.results);return qe({},e,{distanceFromProtagonist:Math.sqrt(d.a.reduce(function(e,t){return e+Math.pow(t.score/a-.99,2)},0,n))})}),d.a.orderBy(["distanceFromProtagonist"],["desc"])],p=function(e){return[d.a.filter(function(e){return d.a.map("nickname",e.results).includes(i)}),d.a.orderBy([function(t){return d.a.getOr("asc"===e?1/0:-1/0,"ratingDiff",d.a.find({nickname:i},t.results))}],[e])]},f=(a={},Object(n.a)(a,U.DEFAULT,u),Object(n.a)(a,U.PROTAGONIST,m),Object(n.a)(a,U.RANK_ASC,p("asc")),Object(n.a)(a,U.RANK_DESC,p("desc")),a)[s]||u;return d.a.flow(d.a.compact([t.chartRange&&function(e){return function(e,t){var a=d.a.getOr(Q,"range",e),n=d.a.getOr(null,"type",e);return d.a.flow(d.a.filter(function(e){return e.chartLevel>=a[0]&&e.chartLevel<=a[1]&&(!n||n===e.chartType)}))(t)}(t.chartRange,e)},!t.showRank&&d.a.map(function(e){return qe({},e,{results:d.a.filter(function(e){return!e.isRank},e.results)})}),t.showRank&&t.showOnlyRank&&d.a.map(function(e){return qe({},e,{results:d.a.filter(function(e){return e.isRank},e.results)})}),t.showRank&&!t.showOnlyRank&&!t.showRankAndNorank&&d.a.map(function(e){var t=[];return qe({},e,{results:d.a.filter(function(e){var a=t.includes(e.nickname);return t.push(e.nickname),!a},e.results)})}),(r.length||c.length||l.length)&&d.a.filter(function(e){var t=d.a.map("nickname",e.results);return(!r.length||d.a.every(function(e){return t.includes(e)},r))&&(!c.length||d.a.some(function(e){return t.includes(e)},c))&&(!l.length||!d.a.some(function(e){return t.includes(e)},l))}),d.a.filter(function(e){return d.a.size(e.results)})].concat(Object(O.a)(f),[t.song&&function(e){return Object(Be.a)(e,t.song,{keys:["song"]})},d.a.map(function(e){var t=1,a=[];return qe({},e,{results:e.results.map(function(n,r){var c=a.includes(n.nickname);return a.push(n.nickname),0===r?t=1:c||n.score===d.a.get([r-1,"score"],e.results)||(t+=1),qe({},n,{topPlace:t,isSecondOccurenceInResults:c})})})})])))(e)});function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Ue=[{label:"\u043d\u043e\u0432\u0438\u0437\u043d\u0435 \u0441\u043a\u043e\u0440\u043e\u0432",value:U.DEFAULT},{label:"\u043e\u0442\u0441\u0442\u0430\u0432\u0430\u043d\u0438\u044e \u043e\u0442 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445",value:U.PROTAGONIST}].concat(Object(O.a)(J?[{label:"\u043e\u0442 \u0445\u0443\u0434\u0448\u0438\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",value:U.RANK_ASC},{label:"\u043e\u0442 \u043b\u0443\u0447\u0448\u0438\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",value:U.RANK_DESC}]:[])),Qe={fetchTopScores:je,setFilter:we,resetFilter:function(){return{type:ye}}},He=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).state={showItemsCount:20},a.setFilter=d.a.curry(function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.props.filter,Object(n.a)({},e,t));a.props.setFilter(r),m.a.setItem("filter",r)}),a.resetFilter=function(){a.props.resetFilter(),m.a.setItem("filter",Oe)},a.onRefresh=function(){!a.props.isLoading&&a.props.fetchTopScores()},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"renderSimpleSearch",value:function(){var e=this.props,t=e.isLoading,a=e.filter;return c.a.createElement("div",{className:"simple-search"},c.a.createElement("div",{className:"song-name _margin-right _margin-bottom"},c.a.createElement(A,{value:a.song||"",placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0441\u043d\u0438...",className:"form-control",onChange:this.setFilter("song")})),c.a.createElement("div",{className:"chart-range _margin-right _margin-bottom"},c.a.createElement(z,{filterValue:a.chartRange,onChange:this.setFilter("chartRange")})),c.a.createElement("div",{className:"_flex-fill"}),c.a.createElement("div",{className:"_flex-row _margin-bottom"},c.a.createElement("button",{className:"btn btn-sm btn-dark btn-icon _margin-right",onClick:this.resetFilter},c.a.createElement(C.g,null)," \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"),c.a.createElement("button",{disabled:t,className:"btn btn-sm btn-dark btn-icon",onClick:this.onRefresh},c.a.createElement(C.h,null)," \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")))}},{key:"renderFilters",value:function(){var e=this,t=this.props,a=t.players,n=t.filter;return c.a.createElement("div",{className:"filters"},c.a.createElement("div",{className:"people-filters"},c.a.createElement("label",{className:"label"},"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0447\u0430\u0440\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u044b\u0433\u0440\u0430\u043b:"),c.a.createElement("div",{className:"players-block"},c.a.createElement("div",{className:"_margin-right"},c.a.createElement("label",{className:"label"},"\u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u044d\u0442\u0438\u0445"),c.a.createElement(N.a,{closeMenuOnSelect:!1,className:"select players",classNamePrefix:"select",placeholder:"\u0438\u0433\u0440\u043e\u043a\u0438...",isMulti:!0,options:a,value:d.a.getOr(null,"players",n),onChange:this.setFilter("players")})),c.a.createElement("div",{className:"_margin-right"},c.a.createElement("label",{className:"label"},"\u0438 \u0445\u043e\u0442\u044c \u043e\u0434\u0438\u043d \u0438\u0437 \u044d\u0442\u0438\u0445"),c.a.createElement(N.a,{closeMenuOnSelect:!1,className:"select players",classNamePrefix:"select",placeholder:"\u0438\u0433\u0440\u043e\u043a\u0438...",isMulti:!0,options:a,value:d.a.getOr(null,"playersOr",n),onChange:this.setFilter("playersOr")})),c.a.createElement("div",{className:"_margin-right"},c.a.createElement("label",{className:"label"},"\u0438 \u043d\u0438\u043a\u0442\u043e \u0438\u0437 \u044d\u0442\u0438\u0445"),c.a.createElement(N.a,{closeMenuOnSelect:!1,className:"select players",classNamePrefix:"select",placeholder:"\u0438\u0433\u0440\u043e\u043a\u0438...",isMulti:!0,options:a,value:d.a.getOr(null,"playersNot",n),onChange:this.setFilter("playersNot")})))),c.a.createElement("div",null,c.a.createElement(F,{checked:d.a.getOr(!1,"showRank",n),onChange:this.setFilter("showRank")},"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u043a\u043e\u0440\u044b \u043d\u0430 \u0440\u0430\u043d\u043a\u0435")),d.a.get("showRank",n)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(F,{checked:d.a.getOr(!1,"showOnlyRank",n),onChange:function(t){e.setFilter("showOnlyRank",t),d.a.get("showRankAndNorank",n)&&e.setFilter("showRankAndNorank",!1)}},c.a.createElement("strong",null,"\u0442\u043e\u043b\u044c\u043a\u043e")," \u043d\u0430 \u0440\u0430\u043d\u043a\u0435")),c.a.createElement("div",null,c.a.createElement(F,{checked:d.a.getOr(!1,"showRankAndNorank",n),onChange:function(t){e.setFilter("showRankAndNorank",t),d.a.get("showOnlyRank",n)&&e.setFilter("showOnlyRank",!1)}},"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043b\u0443\u0447\u0448\u0438\u0435 \u0441\u043a\u043e\u0440\u044b \u0441 \u0440\u0430\u043d\u043a\u043e\u043c \u0438 \u0431\u0435\u0437"))))}},{key:"renderSortings",value:function(){var e=this.props,t=e.players,a=e.filter;return c.a.createElement("div",{className:"sortings"},c.a.createElement("div",null,c.a.createElement("label",{className:"label"},"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e"),c.a.createElement(N.a,{placeholder:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443",className:"select",classNamePrefix:"select",clearable:!1,options:Ue,value:d.a.getOr(Ue[0],"sortingType",a),onChange:this.setFilter("sortingType")})),[U.PROTAGONIST,U.RANK_ASC,U.RANK_DESC].includes(d.a.get("sortingType.value",a))&&c.a.createElement("div",null,c.a.createElement("label",{className:"label"},"\u043f\u0440\u043e\u0442\u0430\u0433\u043e\u043d\u0438\u0441\u0442 (\u043a\u043e\u0433\u043e \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0442\u044c \u0441 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u043c\u0438):"),c.a.createElement(N.a,{className:j()("select players",{"red-border":!d.a.get("protagonist",a)}),classNamePrefix:"select",placeholder:"\u0438\u0433\u0440\u043e\u043a\u0438...",options:t,value:d.a.getOr(null,"protagonist",a),onChange:this.setFilter("protagonist")})),[U.PROTAGONIST].includes(d.a.get("sortingType.value",a))&&c.a.createElement("div",null,c.a.createElement("label",{className:"label"},"\u043d\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0438:"),c.a.createElement(N.a,{closeMenuOnSelect:!1,className:"select players",classNamePrefix:"select",placeholder:"\u0438\u0433\u0440\u043e\u043a\u0438...",options:t,isMulti:!0,value:d.a.getOr([],"excludeAntagonists",a),onChange:this.setFilter("excludeAntagonists")})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.filteredData,r=t.error,l=t.filter,s=this.state.showItemsCount,i=n.length>s,o=d.a.slice(0,s,n),u=d.a.slice(0,Ie.length,d.a.uniq(d.a.compact([d.a.get("sortingType.value",l)===U.PROTAGONIST&&d.a.get("protagonist.value",l)].concat(Object(O.a)(d.a.map("value",l.players)),Object(O.a)(d.a.map("value",l.playersOr))))));return c.a.createElement("div",{className:"leaderboard-page"},c.a.createElement("div",{className:"content"},r&&r.message,c.a.createElement("div",{className:"search-block"},this.renderSimpleSearch(),c.a.createElement(T,{title:"\u0444\u0438\u043b\u044c\u0442\u0440\u044b"},this.renderFilters()),c.a.createElement(T,{title:"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"},this.renderSortings())),a&&c.a.createElement(x,null),c.a.createElement("div",{className:"top-list"},d.a.isEmpty(n)&&!a&&"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",!a&&o.map(function(e,t){return c.a.createElement("div",{className:"song-block",key:e.song+e.chartLabel},c.a.createElement("div",{className:"song-name"},c.a.createElement("div",{className:j()("chart-name",{single:"S"===e.chartType})},c.a.createElement("span",{className:"chart-letter"},e.chartType),c.a.createElement("span",{className:"chart-number"},e.chartLevel)),c.a.createElement("div",null,e.song),c.a.createElement("div",{className:"youtube-link"},c.a.createElement("a",{href:"https://youtube.com/results?search_query=".concat(e.song.replace(/ /g,"+"),"+").concat(e.chartLabel),target:"_blank",rel:"noopener noreferrer"},c.a.createElement(C.i,null)))),c.a.createElement("div",{className:"charts"},c.a.createElement("div",{className:"chart"},c.a.createElement("div",{className:"results"},c.a.createElement("table",null,0===t&&c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"place"}),c.a.createElement("th",{className:"nickname"}),c.a.createElement("th",{className:"rank"}),c.a.createElement("th",{className:"score"},"score"),c.a.createElement("th",{className:"grade"}),c.a.createElement("th",{className:"number"},"miss"),c.a.createElement("th",{className:"number"},"bad"),c.a.createElement("th",{className:"number"},"good"),c.a.createElement("th",{className:"number"},"great"),c.a.createElement("th",{className:"number"},"perfect"),c.a.createElement("th",{className:"combo"},"combo"),c.a.createElement("th",{className:"accuracy"},"accuracy"),c.a.createElement("th",{className:"date"}))),c.a.createElement("tbody",null,e.results.map(function(t){var a,n=u.indexOf(t.nickname);return c.a.createElement("tr",{key:t.score+t.nickname,className:j()({empty:!t.isExactDate,latest:t.date===e.latestScoreDate})},c.a.createElement("td",{className:"place"},t.isSecondOccurenceInResults?"":"#".concat(t.topPlace)),c.a.createElement("td",{className:"nickname",style:n>-1?{fontWeight:"bold",color:Ie[n]}:{}},t.nickname,J&&c.a.createElement("span",null," ",t.startingRating&&Math.round(t.startingRating)," ",t.ratingDiff&&Math.round(t.ratingDiff)," ",t.ratingDiffLast&&Math.round(t.ratingDiffLast)),d.a.get("sortingType.value",l)===U.PROTAGONIST&&t.nickname===d.a.get("protagonist.value",l)&&e.distanceFromProtagonist>0&&c.a.createElement("span",{className:"protagonist-diff"}," ","-",(100*e.distanceFromProtagonist).toFixed(1),"%")),c.a.createElement("td",{className:j()("rank",{vj:t.isRank})},t.isRank&&(t.isExactDate?"VJ":c.a.createElement(D.a,{content:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"\u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0440\u0430\u043d\u043a\u0430 \u043d\u0430 \u044d\u0442\u043e\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0431\u044b\u043b\u043e \u0443\u0433\u0430\u0434\u0430\u043d\u043e, \u043e\u0441\u043d\u043e\u0432\u044b\u0432\u0430\u044f\u0441\u044c \u043d\u0430 \u0441\u043a\u043e\u0440\u0435")),tooltipClassName:"timeago-tooltip"},"VJ?"))),c.a.createElement("td",{className:"score"},S()(t.score).format("0,0")),c.a.createElement("td",{className:"grade"},c.a.createElement("div",{className:"img-holder"},t.grade&&"?"!==t.grade&&c.a.createElement("img",{src:"".concat("/piu-spy-web","/grades/").concat(t.grade,".png"),alt:t.grade}),"?"===t.grade&&null)),c.a.createElement("td",{className:"number miss"},t.miss),c.a.createElement("td",{className:"number bad"},t.bad),c.a.createElement("td",{className:"number good"},t.good),c.a.createElement("td",{className:"number great"},t.great),c.a.createElement("td",{className:"number perfect"},t.perfect),c.a.createElement("td",{className:"combo"},t.combo,t.combo?"x":""),c.a.createElement("td",{className:"accuracy"},t.accuracy,t.accuracy?"%":""),c.a.createElement("td",{className:j()("date",{latest:t.date===e.latestScoreDate})},c.a.createElement(D.a,{content:t.isExactDate?(a=t.dateObject,a.toLocaleDateString()):Te(t.dateObject),tooltipClassName:"timeago-tooltip"},function(e){var t=Ae.format(e,Fe);if(t)return t;var a=Re()(Me).startOf("day").diff(Re()(e).startOf("day"),"days");return 0===a?"\u0441\u0435\u0433\u043e\u0434\u043d\u044f":1===a?"\u0432\u0447\u0435\u0440\u0430":""}(t.dateObject),t.isExactDate?"":"?")))})))))))}),!a&&i&&c.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.setState(function(e){return{showItemsCount:e.showItemsCount+10}})}},"show more..."))))}}]),t}(r.Component),We=Object(o.b)(function(e){return{players:Ke(e),filteredData:Ve(e),data:e.top.data,filter:e.top.filter,error:e.top.error,isLoading:e.top.isLoading}},Qe)(He),ze=(a(258),a(184)),Je=function(e){return c.a.createElement("img",{src:"".concat("/piu-spy-web","/grades/").concat(e,".png"),alt:e})};function Xe(e){var t=e.ranking,a=e.isLoading;return c.a.createElement("div",{className:"ranking-list"},d.a.isEmpty(t)&&!a&&"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",a&&c.a.createElement(x,null),!a&&c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"place"}),c.a.createElement("th",{className:"change"}),c.a.createElement("th",{className:"name"},"name"),c.a.createElement("th",{className:"rating"},"elo"),c.a.createElement("th",{className:"total-score"},"total score"),c.a.createElement("th",{className:"grades sss"},Je("SSS")),c.a.createElement("th",{className:"grades ss"},Je("SS")),c.a.createElement("th",{className:"grades s"},Je("S")),c.a.createElement("th",{className:"grades a"},Je("A+")),c.a.createElement("th",{className:"grades b"},Je("B")),c.a.createElement("th",{className:"grades c"},Je("C")),c.a.createElement("th",{className:"grades d"},Je("D")),c.a.createElement("th",{className:"grades f"},Je("F")),c.a.createElement("th",{className:"playcount"},"scores"),c.a.createElement("th",{className:"accuracy"},"accuracy"))),c.a.createElement("tbody",null,t.map(function(e,t){return c.a.createElement("tr",{className:"player",key:e.name},c.a.createElement("td",{className:"place"},0===t?c.a.createElement(ze.a,null):"#".concat(t+1)),c.a.createElement("td",{className:"change"},e.change>0&&c.a.createElement("div",{className:"change-holder up"},c.a.createElement("span",null,e.change),c.a.createElement(C.b,null)),e.change<0&&c.a.createElement("div",{className:"change-holder down"},c.a.createElement("span",null,-e.change),c.a.createElement(C.a,null)),!!e.change&&d.a.isString(e.change)&&c.a.createElement("div",{className:"change-holder text"},c.a.createElement("span",null,e.change))),c.a.createElement("td",{className:"name"},c.a.createElement(i.c,{exact:!0,to:y.profile.getPath({name:e.name})},e.name)),c.a.createElement("td",{className:"rating"},e.rating," ",!!e.prevRating&&e.prevRating!==e.rating&&c.a.createElement("span",{className:j()("rating-change",{down:e.prevRating>e.rating,up:e.prevRating<e.rating})},e.prevRating<e.rating?"+":"",e.rating-e.prevRating)),c.a.createElement("td",{className:"total-score"},c.a.createElement("div",null,"S: ",S()(e.totalScore.S).format("0,0")),c.a.createElement("div",null,"D: ",S()(e.totalScore.D).format("0,0"))),c.a.createElement("td",{className:"grades sss"},e.grades.SSS),c.a.createElement("td",{className:"grades ss"},e.grades.SS),c.a.createElement("td",{className:"grades s"},e.grades.S),c.a.createElement("td",{className:"grades a"},e.grades.A),c.a.createElement("td",{className:"grades b"},e.grades.B),c.a.createElement("td",{className:"grades c"},e.grades.C),c.a.createElement("td",{className:"grades d"},e.grades.D),c.a.createElement("td",{className:"grades f"},e.grades.F),c.a.createElement("td",{className:"playcount"},e.count),c.a.createElement("td",{className:"accuracy"},e.accuracy?"".concat(e.accuracy,"%"):""))}))))}function Ye(){return c.a.createElement("div",{className:"faq"},c.a.createElement("div",{className:"question-answer"},c.a.createElement("div",{className:"question"},"Q: \u041a\u0430\u043a \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u0440\u0435\u0439\u0442\u0438\u043d\u0433?"),c.a.createElement("div",{className:"answer"},"A: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f ",c.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Elo_rating_system"},"\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u042d\u043b\u043e"),", \u0448\u0438\u0440\u043e\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u0432 \u0448\u0430\u0445\u043c\u0430\u0442\u0430\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u0430\u0445, \u0441\u043b\u0435\u0433\u043a\u0430 \u043c\u043e\u0434\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0434 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0433\u0440\u044b \u043d\u0430 \u043f\u0430\u043c\u043f\u0435. \u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 - 1000. \u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u041a \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0443\u0440\u043e\u0432\u043d\u044f \u0447\u0430\u0440\u0442\u0430 (\u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u0447\u0430\u0440\u0442\u044b \u0441\u0438\u043b\u044c\u043d\u0435\u0435 \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433). \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0447\u043a\u043e\u0432 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439 \u043e\u0442\u0440\u044b\u0432 \u043e\u0442 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430 \u043d\u0435 \u0434\u0430\u0441\u0442 \u0442\u0430\u043a \u043c\u043d\u043e\u0433\u043e \u043e\u0447\u043a\u043e\u0432 \u043a\u0430\u043a \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043e\u0442\u0440\u044b\u0432).")),c.a.createElement("div",{className:"question-answer"},c.a.createElement("div",{className:"question"},"Q: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u042d\u043b\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0438\u0433\u0440 1 \u043d\u0430 1, \u043a\u0430\u043a \u043e\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u0430\u043c\u043f\u0435, \u0433\u0434\u0435 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0447\u0430\u0440\u0442\u0435 \u0438\u0433\u0440\u0430\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432?"),c.a.createElement("div",{className:"answer"},"A: \u0420\u0435\u043a\u043e\u0440\u0434\u044b \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0447\u0430\u0440\u0442\u0435 \u0434\u0435\u043b\u044f\u0442\u0441\u044f \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u0433\u0440 1 \u043d\u0430 1. \u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c 3 \u0438\u0433\u0440\u043e\u043a\u0430: A, B, C; \u0442\u043e \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0431\u044b\u043b\u043e 3 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0438\u0433\u0440\u044b: A vs B, A vs C, B vs C.")),c.a.createElement("div",{className:"question-answer"},c.a.createElement("div",{className:"question"},"Q: \u0423\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043b\u0438 \u0440\u0435\u043a\u043e\u0440\u0434\u044b \u043d\u0430 \u0440\u0430\u043d\u043a\u0435 \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435?"),c.a.createElement("div",{className:"answer"},"A: \u0414\u0430. \u041a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0443 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u043c\u043d\u043e\u0433\u043e \u0440\u0435\u043a\u043e\u0440\u0434\u043e\u0432, \u0432\u0437\u044f\u0442\u044b\u0445 \u0441 \u043c\u0430\u0448\u0438\u043d \u0431\u0435\u0441\u0442\u043e\u0432, \u0438 \u043c\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u043c \u043d\u0430\u0432\u0435\u0440\u043d\u044f\u043a\u0430, \u043d\u0430 \u0440\u0430\u043d\u043a\u0435 \u043e\u043d\u0438 \u0438\u043b\u0438 \u043d\u0435\u0442. \u0415\u0441\u043b\u0438 \u0443 \u0438\u0433\u0440\u043e\u043a\u0430 \u0432 \u0442\u043e\u043f\u0435 \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u0441\u043a\u043e\u0440\u0430 - \u043d\u0430 \u0440\u0430\u043d\u043a\u0435 \u0438 \u0431\u0435\u0437 \u0440\u0430\u043d\u043a\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u0442, \u0433\u0434\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0447\u043a\u043e\u0432.")),c.a.createElement("div",{className:"question-answer"},c.a.createElement("div",{className:"question"},"Q: \u041f\u043e\u0447\u0435\u043c\u0443 \u043c\u0435\u043d\u044f \u043d\u0435\u0442 \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435?"),c.a.createElement("div",{className:"answer"},"A: \u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043f\u043e\u043f\u0430\u0434\u0430\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435, \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b 20 \u0438\u0433\u0440 1 \u043d\u0430 1. \u041f\u0435\u0440\u0432\u044b\u0435 20 \u0438\u0433\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430.")),c.a.createElement("div",{className:"question-answer"},c.a.createElement("div",{className:"question"},"Q: \u041f\u043e\u0447\u0435\u043c\u0443 \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0446\u0435\u043d\u043e\u043a S-A-B \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043e\u0431\u0449\u0438\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u0441\u043a\u043e\u0440\u043e\u0432?"),c.a.createElement("div",{className:"answer"},"A: \u041d\u0435 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0430.")),c.a.createElement("div",{className:"question-answer"},c.a.createElement("div",{className:"question"},"Q: \u0415\u0441\u043b\u0438 \u0443 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0435\u043a\u043e\u0440\u0434\u043e\u0432 \u043d\u0430 \u0410, \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0410+, \u043a\u0430\u043a \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u0440\u0435\u0439\u0434\u043e\u0432 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435?"),c.a.createElement("div",{className:"answer"},"A: \u0412 \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043e\u0431\u0435 \u0431\u0443\u043a\u0432\u044b - \u0438 \u0442\u0440\u0435\u0441\u043d\u0443\u0442\u044b\u0435, \u0438 \u0441 \u0443\u0434\u0435\u0440\u0436\u0430\u043d\u043d\u044b\u043c \u043b\u0430\u0439\u0444\u043e\u043c. \u0422\u043e \u0435\u0441\u0442\u044c \u0438 \u0410, \u0438 \u0410+ \u0438\u0434\u0443\u0442 \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0410. \u0422\u043e\u0447\u043d\u043e \u0442\u0430\u043a \u0436\u0435 \u0434\u043b\u044f B, C, D.")),c.a.createElement("div",{className:"question-answer"},c.a.createElement("div",{className:"question"},"Q: \u0423\u0431\u0435\u0440\u0438 \u0430\u043a\u043a\u0443\u0440\u0430\u0441\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b!"),c.a.createElement("div",{className:"answer"},"A: \u0413\u0440\u0435\u043c, \u044d\u0442\u043e \u0441\u0435\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432.")))}var Ze={fetchTopScores:je},$e=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).onRefresh=function(){!a.props.isLoading&&a.props.fetchTopScores()},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.ranking,r=t.error;return c.a.createElement("div",{className:"ranking-page"},c.a.createElement("div",{className:"content"},r&&r.message,c.a.createElement("div",{className:"top-controls"},c.a.createElement("div",{className:"_flex-fill"}),c.a.createElement(E.b,{exact:!0,path:y.ranking.path,render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{to:y.ranking.faq.path},c.a.createElement("button",{className:"btn btn-sm btn-dark btn-icon _margin-right"},c.a.createElement(C.f,null)," faq")),c.a.createElement("button",{disabled:a,className:"btn btn-sm btn-dark btn-icon",onClick:e.onRefresh},c.a.createElement(C.h,null)," \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"))}}),c.a.createElement(E.b,{exact:!0,path:y.ranking.faq.path,render:function(){return c.a.createElement(i.b,{to:y.ranking.path},c.a.createElement("button",{className:"btn btn-sm btn-dark btn-icon"},"\u043d\u0430\u0437\u0430\u0434"))}})),c.a.createElement(E.b,{exact:!0,path:y.ranking.path,render:function(){return c.a.createElement(Xe,{ranking:n,isLoading:a})}}),c.a.createElement(E.b,{exact:!0,path:y.ranking.faq.path,component:Ye})))}}]),t}(r.Component);$e.defaultProps={ranking:[]};var et=Object(o.b)(function(e){return{ranking:e.ranking.data,error:e.top.error,isLoading:e.top.isLoading}},Ze)(Object(E.f)($e)),tt=a(25);a(433);function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var nt={fetchTopScores:je},rt=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).onRefresh=function(){!a.props.isLoading&&a.props.fetchTopScores()},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.profile,r=e.error,l=e.match;if(d.a.isEmpty(a))return null;console.log(l,a);for(var s=d.a.flow(d.a.get("resultsByLevel"),d.a.toPairs,d.a.map(function(e){var t=Object(ee.a)(e,2),a=t[0],n=t[1];return{x:d.a.toInteger(a),S:d.a.size(d.a.filter(function(e){return"S"===e.chart.chartType},n)),D:-d.a.size(d.a.filter(function(e){return"D"===e.chart.chartType},n))}}))(a),i=[],o=[],u=d.a.last(a.rankingHistory).date,m=d.a.first(a.rankingHistory).date,p=Re()(m);p.isBefore(u);p.add(1,"day"))i.push({date:p.valueOf()});for(var f=Re()(u);f.isAfter(m);f.subtract(1,"month"))o=[f.valueOf()].concat(Object(O.a)(o));var g=d.a.flow(function(e){var t=e.map(function(t,a){return a>0&&e[a-1].date<t.date-864e5?[].concat(Object(O.a)(d.a.map(function(t){return{date:t.date,place:e[a-1].place}},d.a.filter(function(n){var r=n.date;return r>e[a-1].date&&r<t.date},i))),[t]):t});return d.a.flatten(t)},d.a.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{dateRounded:Math.round(e.date/1e3/60/60/24)})}))(a.rankingHistory);return c.a.createElement("div",{className:"profile-page"},c.a.createElement("div",{className:"content"},r&&r.message,c.a.createElement("div",{className:"top-controls"},c.a.createElement("div",{className:"_flex-fill"}),c.a.createElement("div",{className:"beta"},"\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 \u0431\u0435\u0442\u0430-\u0432\u0435\u0440\u0441\u0438\u0438"),c.a.createElement("button",{disabled:t,className:"btn btn-sm btn-dark btn-icon",onClick:this.onRefresh},c.a.createElement(C.h,null)," \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")),c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile-header"},c.a.createElement("div",{className:"profile-name"},l.params.name)),c.a.createElement("div",{className:"levels-chart"},c.a.createElement(tt.b,{height:300,width:800,data:s,stackOffset:"sign",margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(tt.i,{dataKey:"x"}),c.a.createElement(tt.j,null),c.a.createElement(tt.h,null),c.a.createElement(tt.g,{y:0,stroke:"#555"}),c.a.createElement(tt.a,{dataKey:"D",fill:"#169c16",stackId:"stack"}),c.a.createElement(tt.a,{dataKey:"S",fill:"#af2928",stackId:"stack"}))),c.a.createElement("div",{className:"history-chart"},c.a.createElement(tt.f,{height:300,width:800,data:g,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(tt.d,{strokeDasharray:"3 3"}),c.a.createElement(tt.i,{dataKey:"dateRounded",type:"number",domain:["dataMin","dataMax"],tickFormatter:function(e){return new Date(24*e*60*60*1e3).toLocaleDateString()}}),c.a.createElement(tt.j,{allowDecimals:!1,domain:[1,function(e){return e<3?e+2:e+1}],interval:0,reversed:!0}),c.a.createElement(tt.h,{isAnimationActive:!1,content:function(e){e.active;var t=e.payload;e.label;return t&&t[0]?c.a.createElement("div",{className:"history-tooltip"},c.a.createElement("div",null,new Date(t[0].payload.date).toLocaleDateString()),t&&t[0]&&c.a.createElement("div",null,"Place: #",t[0].value)):null}}),c.a.createElement(tt.e,{isAnimationActive:!1,type:"stepAfter",dataKey:"place",stroke:"#8884d8",strokeWidth:3,dot:!1}),c.a.createElement(tt.c,{data:i,dataKey:"date",height:40,stroke:"#8884d8",travellerWidth:20,tickFormatter:function(e){return new Date(e).toLocaleDateString()}}))))))}}]),t}(r.Component);rt.defaultProps={profile:{}};var ct=Object(o.b)(function(e,t){return{profile:e.profiles.data[t.match.params.name],error:e.top.error,isLoading:e.top.isLoading}},nt)(Object(E.f)(rt)),lt=(a(434),function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement("header",{className:"top-bar"},c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(i.c,{exact:!0,to:y.leaderboard.path},"leaderboard")),c.a.createElement("li",null,c.a.createElement(i.c,{exact:!0,to:y.ranking.path},"ranking")))))}}]),t}(r.Component)),st=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(lt,null),c.a.createElement(E.b,{exact:!0,path:"/",render:function(){return c.a.createElement(E.a,{to:y.leaderboard.path})}}),c.a.createElement(E.b,{path:y.leaderboard.path,component:We}),c.a.createElement(E.b,{path:y.ranking.path,component:et}),c.a.createElement(E.b,{path:y.profile.path,component:ct}))}}]),t}(r.Component),it=a(49),ot=a(126);function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var mt=Object(it.c)({top:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return ge({},e,{isLoading:!0});case ve:return ge({},e,{isLoading:!1,error:t.error});case be:return ge({},e,{isLoading:!1,data:t.data});case Ee:return ge({},e,{filter:t.filter});case ye:return ge({},e,{filter:Oe});default:return e}},ranking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return ae({},e,{data:t.ranking});case re:var a=!d.a.isEmpty(t.listPrev);return ae({},e,{data:d.a.map(function(e){var n=ae({},e,{prevRating:d.a.get(e.name,t.rankingsPointsMap)});return a?d.a.includes(n.name,t.listPrev)?d.a.includes(n.name,t.listNow)?ae({},n,{change:d.a.indexOf(n.name,t.listPrev)-d.a.indexOf(n.name,t.listNow)}):ae({},n,{change:"?"}):ae({},n,{change:"NEW"}):n},e.data)});default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{data:t.data});default:return e}}}),pt=Object(it.e)(mt,window.__REDUX_DEVTOOLS_EXTENSION__?Object(it.d)(Object(it.a)(ot.a),window.__REDUX_DEVTOOLS_EXTENSION__({stateSanitizer:function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e)}})):Object(it.a)(ot.a));function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}m.a.getItem("filter").then(function(e){e&&pt.dispatch(we(ft({},e,{chartRange:e.chartRange&&ft({},e.chartRange,{range:d.a.every(function(e){return e>=Q[0]&&e<=Q[1]},e.chartRange.range)?e.chartRange.range:Q})})))}).catch(function(e){return console.error("Cannot get filter from local storage",e)}),pt.dispatch(je()),s.a.render(c.a.createElement(o.a,{store:pt},c.a.createElement(i.a,null,c.a.createElement(st,null))),document.getElementById("root"))}},[[217,1,2]]]);
//# sourceMappingURL=main.bfcc59bb.chunk.js.map